{"version":3,"sources":["webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?4855","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?aa4d","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?6dff","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?aeab","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?6bfb","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue?f5a8"],"names":["startX","startY","startPX","startPY","data","beginIndex","endIndex","imgLists","canAdd","hidden","flag","x","y","disabled","elements","maxRowNum","maxColNum","props","sortable","type","Boolean","default","imgTitle","String","maxNum","Number","button","methods","_longtap","e","Math","ceil","length","min","$emit","touchstart","currentTarget","dataset","index","floor","changedTouches","pageX","pageY","touchend","tmp","touchmove","touches","absX","absY","rowno","colno","addImg","num","that","uni","showLoading","title","chooseImage","count","sizeType","success","res","concat","tempFilePaths","hideLoading","fail","removeImg","splice","showImgs","currentImg","imgurl","previewImage","urls","current"],"mappings":"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","file":"components/my-components/editGood-ChooseImg.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nlet startX = 0,\n    startY = 0,\n    startPX = 0,\n    startPY = 0;\nexport default {\n    data() {\n        return {\n            beginIndex: -1,\n            endIndex: -1,\n            imgLists: [],\n            canAdd: true,\n            hidden: true,\n            flag: false,\n            x: 0,\n            y: 10,\n            disabled: true,\n            elements: [],\n            maxRowNum: 0,\n            maxColNum: 0,\n        }\n    },\n    props: {\n        sortable: {\n            type: Boolean,\n            default: true\n        },\n        imgTitle: {\n            type: String,\n            default: ''\n        },\n        maxNum: {\n            type: Number,\n            default: 1\n        },\n        button: {\n            type: String,\n            default: '照片'\n        }\n    },\n    methods: {\n        //长按\n        _longtap(e) {\n            this.hidden = false;\n            this.flag = true;\n            this.maxRowNum = Math.ceil(this.imgLists.length / 3);\n            this.maxColNum = Math.min(this.imgLists.length, 3);\n            this.$emit('startmove', true)\n        },\n        //触摸开始\n        touchstart(e) {\n            this.beginIndex = e.currentTarget.dataset.index;\n            this.endIndex = this.beginIndex;\n            startX = this.beginIndex % 3 * 81;\n            startY = Math.floor(this.beginIndex / 3) * 81 + 10;\n            this.x = startX;\n            this.y = startY;\n            startPX = e.changedTouches[0].pageX;\n            startPY = e.changedTouches[0].pageY;\n        },\n        //触摸结束\n        touchend(e) {\n            this.$emit('startmove', false);\n            if (!this.flag) {\n                return;\n            }\n            if (this.sortable && this.endIndex != this.beginIndex && this.endIndex >= 0 && this.beginIndex >= 0) {\n                let data = this.imgLists;\n                const endIndex = this.endIndex;\n                const beginIndex = this.beginIndex;\n                let tmp = data[beginIndex];\n                data[beginIndex] = data[endIndex];\n                data[endIndex] = tmp;\n                this.imgLists = data;\n                this.$emit('getImages', this.imgLists)\n            }\n            this.endIndex = -1;\n            this.hidden = true;\n            this.flag = false;\n        },\n        //滑动\n        touchmove(e) {\n            if (this.flag) {\n                const x = e.touches[0].pageX;\n                const y = e.touches[0].pageY;\n                const absX = x - startPX;\n                const absY = y - startPY;\n                this.x = startX + absX;\n                this.y = startY + absY;\n                let rowno = Math.min(Math.floor((this.y + 40) / 80), this.maxRowNum - 1);\n                let colno = Math.min(Math.floor((this.x + 40) / 80), this.maxColNum - 1);\n                this.endIndex = rowno * 3 + colno;\n            }\n        },\n        addImg() {\n            var num = this.maxNum - this.imgLists.length;\n            let that = this;\n            if (num < 1) {\n                return false;\n            }\n            uni.showLoading({\n                title: \"\"\n            });\n            uni.chooseImage({\n                count: num,\n                sizeType: ['compressed'],\n                success: function(res) {\n                    that.imgLists = that.imgLists.concat(res.tempFilePaths);\n                    if (that.imgLists.length >= that.maxNum) {\n                        that.canAdd = false;\n                    }\n                    uni.hideLoading();\n                    that.$emit('getImages', that.imgLists)\n                },\n                fail: function() {\n                    uni.hideLoading();\n                }\n            });\n        },\n        removeImg: function(index) {\n            this.imgLists.splice(index, 1);\n            this.imgLists = this.imgLists;\n            if (this.imgLists.length < this.maxNum) {\n                this.canAdd = true;\n            }\n            this.$emit('getImages', this.imgLists)\n        },\n        showImgs: function(e) {\n            var currentImg = e.currentTarget.dataset.imgurl;\n            let that = this;\n            uni.previewImage({\n                urls: that.imgLists,\n                current: currentImg\n            })\n        }\n    }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./editGood-ChooseImg.vue?vue&type=template&id=6ddf0862&\"\nimport script from \"./editGood-ChooseImg.vue?vue&type=script&lang=js&\"\nexport * from \"./editGood-ChooseImg.vue?vue&type=script&lang=js&\"\nimport style0 from \"./editGood-ChooseImg.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('6ddf0862', component.options)\n    } else {\n      api.reload('6ddf0862', component.options)\n    }\n    module.hot.accept(\"./editGood-ChooseImg.vue?vue&type=template&id=6ddf0862&\", function () {\n      api.rerender('6ddf0862', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"I:/CurProject/ES_Mobile_Manager/MobileManager/components/my-components/editGood-ChooseImg.vue\"\nexport default component.exports","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./editGood-ChooseImg.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./editGood-ChooseImg.vue?vue&type=script&lang=js&\"","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./editGood-ChooseImg.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./editGood-ChooseImg.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./editGood-ChooseImg.vue?vue&type=template&id=6ddf0862&\""],"sourceRoot":""}