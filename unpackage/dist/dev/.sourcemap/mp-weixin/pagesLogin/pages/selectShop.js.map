<<<<<<< HEAD
{"version":3,"sources":["webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?28fa","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?8a4a","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?e0fe","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?2218","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?4a5d","webpack:///F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue?4e42"],"names":["DataFrom","DataGo","pageId","ajaxIndex","requesting","enteringShop","components","search","shopBlock","longButton","data","searchShop","shops","shopNum","totalShop","methods","selectShop","item","that","totalShops","Cacher","setData","pageLoading","Request","id","shopInfo","then","res","error","getJurisdiction","call","closePageLoading","toIndex","Toast","catch","setTimeout","reLogin","from","uni","reLaunch","url","info","checkUserInfo","Dialog","confirm","title","message","confirmButtonText","login","provider","success","loginRes","getUserInfo","infoRes","console","log","userInfo","nickName","toSearch","go","navigateTo","initPage","getData","LoadingType","value","pageSize","page","keywords","source","concat","list","count","total","length","shop","onPullDownRefresh","onReachBottom","onShow","onUnload","onLoad","option"],"mappings":"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","file":"pagesLogin/pages/selectShop.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport search from '../../components/my-components/SearchInput'\nimport shopBlock from '../components/SelectShop--Item.vue'\nimport longButton from '../../components/my-components/LongButton.vue'\nimport getShops from '../components/getShopList.js'\nimport {\n    getJurisdiction\n} from '../../components/my-components/getJurisdiction.js'\nlet DataFrom = {};\nlet DataGo = {};\nlet pageId = 'selectShop';\nlet ajaxIndex = 1; //当前是第几次请求 \nlet requesting = false;\nlet enteringShop = false;\nexport default {\n    components: {\n        search,\n        shopBlock,\n        longButton\n    },\n    data() {\n        return {\n            searchShop: '',\n            shops: [],\n            shopNum: 0,\n            totalShop: -1,\n            requesting: false //是否正在请求\n        }\n    },\n    methods: {\n        selectShop(item) {\n            if (!enteringShop) {\n                enteringShop = true;\n                let that = this;\n                item.totalShops = this.totalShop;\n                this.Cacher.setData(pageId, item);\n                this.pageLoading();\n                this.Request('switchShop', { //切换店铺\n                    id: item.shopInfo.id\n                }).then(res => {\n                    if (res.error == 0) {\n                        getJurisdiction.call(that, true).then(res => { //检查该店铺的权限,true是防止死循环在该页，会自动返回该页\n                            enteringShop = false;\n                            this.closePageLoading();\n                            if (res['apps_index_view']) {\n                                this.searchShop = '';\n                                this.toIndex('from=selectShop&status=selectShop');\n                            } else {\n                                that.Toast('暂无该店铺权限');\n                            }\n                        }).catch(res => {\n                            enteringShop = false;\n                            this.closePageLoading();\n                            that.Toast('暂无该店铺权限');\n                        })\n                    } else {\n                        this.closePageLoading();\n                        that.Toast('请求失败，请重试')\n                    }\n                }).catch(res => {\n                    this.closePageLoading();\n                    enteringShop = false;\n                    that.Toast('暂无该店铺权限')\n                })\n            } else {\n                setTimeout(() => {\n                    this.closePageLoading();\n                    enteringShop = false;\n                }, 3000)\n            }\n        },\n        reLogin() { //切换登录账号\n            this.Cacher.setData(pageId, {\n                from: pageId\n            });\n            uni.reLaunch({\n                url: '../../pages/login/index?from=selectShop'\n            })\n        },\n        toIndex(info) {\n            uni.reLaunch({\n                url: '../../pages/index/index?' + info\n            })\n        },\n        checkUserInfo() {\n            this.Dialog.confirm({\n                title: '绑定微信',\n                message: '绑定后，可使用微信快捷登录您的管理员账号',\n                confirmButtonText: '立即绑定'\n            }).then(() => {\n                uni.login({\n                    provider: 'weixin',\n                    success: function(loginRes) {\n                        // 获取用户信息\n                        uni.getUserInfo({\n                            provider: 'weixin',\n                            success: function(infoRes) {\n                                console.log('用户昵称为：' + infoRes.userInfo.nickName);\n                            }\n                        });\n                    }\n                });\n            }).catch(() => {});\n        },\n        toSearch() {\n            DataGo = {\n                go: 'searchShop'\n            }\n            uni.navigateTo({\n                url: './searchShop'\n            })\n        },\n        initPage() {\n            if (DataGo.go) {\n                DataGo = this.Cacher.getData(DataGo.go);\n                this.shops = []; //清空列表\n                ajaxIndex = 1; //请求页码初始化\n                this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部\n                if (DataGo.from == 'searchShop') { //搜索店铺页传参\n                    this.searchShop = DataGo.value;\n                } else {\n                    this.searchShop = '';\n                }\n            }\n            if (!requesting) {\n                requesting = true; //函数节流\n                this.requesting = requesting;\n                this.pageLoading();\n                DataFrom = this.Cacher.getData(pageId);\n                this.Request('shoplist', {\n                    pageSize: 20,\n                    page: ajaxIndex,\n                    keywords: this.searchShop,\n                    source: 'assistant'\n                }).then(res => {\n                    requesting = false;\n                    this.requesting = requesting;\n                    if (res.error == 0) {\n                        ajaxIndex++;\n                        this.shops = this.shops.concat(getShops(res.list));\n                        this.shopNum = res.count;\n                        this.totalShop = res.total;\n                        if (res.total === 0) { //没有任何店铺\n                            this.LoadingType = 1; //\n                        }\n                        if (this.shops.length == 1 && DataFrom.from != 'home') { //只有一个合格的店铺就直接跳转首页；如果是从首页跳转的就不必\n                            let shop = this.shops[0];\n                            this.Cacher.setData(pageId, {\n                                from: pageId,\n                                shopInfo: shop.shopInfo,\n                                totalShops: res.count\n                            });\n                            this.selectShop(shop);\n                        } else {\n                            // this.checkUserInfo()\n                        }\n                    } else {\n                        this.Toast(res.message)\n                    }\n                    this.closePageLoading();\n                }).catch(res => {\n                    this.closePageLoading();\n                    requesting = false;\n                    this.requesting = requesting;\n                    this.Toast(res.message);\n                })\n            }\n        }\n    },\n    onPullDownRefresh() {\n        requesting = false;\n        this.requesting = requesting;\n        this.shops = []; //清空列表\n        ajaxIndex = 1; //请求页码初始化\n        this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部\n        this.initPage();\n    },\n    onReachBottom() {\n        if (this.shops.length < this.shopNum) {\n            this.initPage();\n            this.LoadingType = 0;\n        } else {\n            this.LoadingType = 1;\n        }\n    },\n    onShow() {\n        this.initPage();\n    },\n    onUnload() {\n        requesting = false;\n        this.requesting = requesting;\n        this.shops = []; //清空列表\n        ajaxIndex = 1; //请求页码初始化\n        this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部 \n    },\n    onLoad(option) {\n        DataFrom = this.Cacher.getData(option.from); //\n        DataGo = {\n            go: ''\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./selectShop.vue?vue&type=template&id=b4cedebc&scoped=true&\"\nimport script from \"./selectShop.vue?vue&type=script&lang=js&\"\nexport * from \"./selectShop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectShop.vue?vue&type=style&index=0&id=b4cedebc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4cedebc\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('b4cedebc', component.options)\n    } else {\n      api.reload('b4cedebc', component.options)\n    }\n    module.hot.accept(\"./selectShop.vue?vue&type=template&id=b4cedebc&scoped=true&\", function () {\n      api.rerender('b4cedebc', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"F:/YLHD/project/es-shopHelper/pagesLogin/pages/selectShop.vue\"\nexport default component.exports","import mod from \"-!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"","import mod from \"-!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=style&index=0&id=b4cedebc&lang=scss&scoped=true&\"; export default mod; export * from \"-!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=style&index=0&id=b4cedebc&lang=scss&scoped=true&\"","export * from \"-!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\app\\\\HBuilderX.1.9.4.20190426.full\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=template&id=b4cedebc&scoped=true&\""],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?5d33","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?1670","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?3018","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?e59f","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?9a5e","webpack:///I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue?03bc"],"names":["DataFrom","DataGo","pageId","ajaxIndex","requesting","enteringShop","components","search","shopBlock","longButton","data","searchShop","shops","shopNum","totalShop","methods","selectShop","item","that","totalShops","Cacher","setData","pageLoading","Request","id","shopInfo","then","res","error","getJurisdiction","call","closePageLoading","toIndex","Toast","catch","setTimeout","reLogin","from","uni","reLaunch","url","info","checkUserInfo","Dialog","confirm","title","message","confirmButtonText","login","provider","success","loginRes","getUserInfo","infoRes","console","log","userInfo","nickName","toSearch","go","navigateTo","initPage","getData","LoadingType","value","pageSize","page","keywords","source","concat","list","count","total","length","shop","onPullDownRefresh","onReachBottom","onShow","onUnload","onLoad","option"],"mappings":"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","file":"pagesLogin/pages/selectShop.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport search from '../../components/my-components/SearchInput'\nimport shopBlock from '../components/SelectShop--Item.vue'\nimport longButton from '../../components/my-components/LongButton.vue'\nimport getShops from '../components/getShopList.js'\nimport {\n    getJurisdiction\n} from '../../components/my-components/getJurisdiction.js'\nlet DataFrom = {};\nlet DataGo = {};\nlet pageId = 'selectShop';\nlet ajaxIndex = 1; //当前是第几次请求 \nlet requesting = false;\nlet enteringShop = false;\nexport default {\n    components: {\n        search,\n        shopBlock,\n        longButton\n    },\n    data() {\n        return {\n            searchShop: '',\n            shops: [],\n            shopNum: 0,\n            totalShop: -1,\n            requesting: false //是否正在请求\n        }\n    },\n    methods: {\n        selectShop(item) {\n            if (!enteringShop) {\n                enteringShop = true;\n                let that = this;\n                item.totalShops = this.totalShop;\n                this.Cacher.setData(pageId, item);\n                this.pageLoading();\n                this.Request('switchShop', { //切换店铺\n                    id: item.shopInfo.id\n                }).then(res => {\n                    if (res.error == 0) {\n                        getJurisdiction.call(that, true).then(res => { //检查该店铺的权限,true是防止死循环在该页，会自动返回该页\n                            enteringShop = false;\n                            this.closePageLoading();\n                            if (res['apps_index_view']) {\n                                this.searchShop = '';\n                                this.toIndex('from=selectShop&status=selectShop');\n                            } else {\n                                that.Toast('暂无该店铺权限');\n                            }\n                        }).catch(res => {\n                            enteringShop = false;\n                            this.closePageLoading();\n                            that.Toast('暂无该店铺权限');\n                        })\n                    } else {\n                        this.closePageLoading();\n                        that.Toast('请求失败，请重试')\n                    }\n                }).catch(res => {\n                    this.closePageLoading();\n                    enteringShop = false;\n                    that.Toast('暂无该店铺权限')\n                })\n            } else {\n                setTimeout(() => {\n                    this.closePageLoading();\n                    enteringShop = false;\n                }, 3000)\n            }\n        },\n        reLogin() { //切换登录账号\n            this.Cacher.setData(pageId, {\n                from: pageId\n            });\n            uni.reLaunch({\n                url: '../../pages/login/index?from=selectShop'\n            })\n        },\n        toIndex(info) {\n            uni.reLaunch({\n                url: '../../pages/index/index?' + info\n            })\n        },\n        checkUserInfo() {\n            this.Dialog.confirm({\n                title: '绑定微信',\n                message: '绑定后，可使用微信快捷登录您的管理员账号',\n                confirmButtonText: '立即绑定'\n            }).then(() => {\n                uni.login({\n                    provider: 'weixin',\n                    success: function(loginRes) {\n                        // 获取用户信息\n                        uni.getUserInfo({\n                            provider: 'weixin',\n                            success: function(infoRes) {\n                                console.log('用户昵称为：' + infoRes.userInfo.nickName);\n                            }\n                        });\n                    }\n                });\n            }).catch(() => {});\n        },\n        toSearch() {\n            DataGo = {\n                go: 'searchShop'\n            }\n            uni.navigateTo({\n                url: './searchShop'\n            })\n        },\n        initPage() {\n            if (DataGo.go) {\n                DataGo = this.Cacher.getData(DataGo.go);\n                this.shops = []; //清空列表\n                ajaxIndex = 1; //请求页码初始化\n                this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部\n                if (DataGo.from == 'searchShop') { //搜索店铺页传参\n                    this.searchShop = DataGo.value;\n                } else {\n                    this.searchShop = '';\n                }\n            }\n            if (!requesting) {\n                requesting = true; //函数节流\n                this.requesting = requesting;\n                this.pageLoading();\n                DataFrom = this.Cacher.getData(pageId);\n                this.Request('shoplist', {\n                    pageSize: 20,\n                    page: ajaxIndex,\n                    keywords: this.searchShop,\n                    source: 'assistant'\n                }).then(res => {\n                    requesting = false;\n                    this.requesting = requesting;\n                    if (res.error == 0) {\n                        ajaxIndex++;\n                        this.shops = this.shops.concat(getShops(res.list));\n                        this.shopNum = res.count;\n                        this.totalShop = res.total;\n                        if (res.total === 0) { //没有任何店铺\n                            this.LoadingType = 1; //\n                        }\n                        if (this.shops.length == 1 && DataFrom.from != 'home') { //只有一个合格的店铺就直接跳转首页；如果是从首页跳转的就不必\n                            let shop = this.shops[0];\n                            this.Cacher.setData(pageId, {\n                                from: pageId,\n                                shopInfo: shop.shopInfo,\n                                totalShops: res.count\n                            });\n                            this.selectShop(shop);\n                        } else {\n                            // this.checkUserInfo()\n                        }\n                    } else {\n                        this.Toast(res.message)\n                    }\n                    this.closePageLoading();\n                }).catch(res => {\n                    this.closePageLoading();\n                    requesting = false;\n                    this.requesting = requesting;\n                    this.Toast(res.message);\n                })\n            }\n        }\n    },\n    onPullDownRefresh() {\n        requesting = false;\n        this.requesting = requesting;\n        this.shops = []; //清空列表\n        ajaxIndex = 1; //请求页码初始化\n        this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部\n        this.initPage();\n    },\n    onReachBottom() {\n        if (this.shops.length < this.shopNum) {\n            this.initPage();\n            this.LoadingType = 0;\n        } else {\n            this.LoadingType = 1;\n        }\n    },\n    onShow() {\n        this.initPage();\n    },\n    onUnload() {\n        requesting = false;\n        this.requesting = requesting;\n        this.shops = []; //清空列表\n        ajaxIndex = 1; //请求页码初始化\n        this.LoadingType = 0; //加载更多提示，0加载更多 1已经全部 \n    },\n    onLoad(option) {\n        DataFrom = this.Cacher.getData(option.from); //\n        DataGo = {\n            go: ''\n        };\n    }\n}\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./selectShop.vue?vue&type=template&id=3417471f&scoped=true&\"\nimport script from \"./selectShop.vue?vue&type=script&lang=js&\"\nexport * from \"./selectShop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./selectShop.vue?vue&type=style&index=0&id=3417471f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3417471f\",\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('3417471f', component.options)\n    } else {\n      api.reload('3417471f', component.options)\n    }\n    module.hot.accept(\"./selectShop.vue?vue&type=template&id=3417471f&scoped=true&\", function () {\n      api.rerender('3417471f', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"I:/CurProject/ES_Mobile_Manager/MobileManager/pagesLogin/pages/selectShop.vue\"\nexport default component.exports","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=script&lang=js&\"","import mod from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=style&index=0&id=3417471f&lang=scss&scoped=true&\"; export default mod; export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-1!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\index.js??ref--8-oneOf-1-2!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\lib\\\\loader.js??ref--8-oneOf-1-4!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=style&index=0&id=3417471f&lang=scss&scoped=true&\"","export * from \"-!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!G:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!./selectShop.vue?vue&type=template&id=3417471f&scoped=true&\""],"sourceRoot":""}
>>>>>>> 156ef84cb591485858f5a866f1539e28131362ef
